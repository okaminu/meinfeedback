parameters:
  mfb_admin.form_setup.class: MFB\AdminBundle\Service\Admin
  mfb_admin.form_setup_paths:
            - 'mfb_admin_update_rating_criteria_select'
            - 'mfb_admin_save_service_group'
            - 'mfb_admin_save_service_provider'
            - 'mfb_admin_update_service_visibility'
  mfb_admin.form_setup.redirect: 'mfb_admin_setup_step'

services:

  mfb_admin.form_setup.service:
    class: %mfb_admin.form_setup.class%
    arguments: [@mfb_account_channel.rating_criteria.service, @mfb_account_channel.service_type.service, @mfb_service_provider.service, @security.context]

  my_locale_listener:
      class: MFB\AdminBundle\LocaleListener
      arguments:
          hostMap:
              default: de
              miofeedback.it: it
              meinfeedback.net: de
      tags:
          -  { name: kernel.event_subscriber }
  kernel.listener.LoggedInAdminListener:
      class: MFB\AdminBundle\EventListener\LoggedInAdminListener
      arguments: [@router, @security.context, @mfb_admin.form_setup.service, %mfb_admin.form_setup_paths%, %mfb_admin.form_setup.redirect%]
      tags:
        - {name: kernel.event_listener, event: kernel.request, method: onKernelRequest}
